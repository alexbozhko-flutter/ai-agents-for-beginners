```markdown
# Введение в ИИ-агентов и их применение

Добро пожаловать на курс "ИИ-агенты для начинающих"! Этот курс даст вам фундаментальные знания и практические примеры по созданию решений с использованием ИИ-агентов.

Присоединяйтесь к [сообществу Azure AI в Discord](https://discord.gg/kzRShWzttr), чтобы познакомиться с другими учениками и разработчиками ИИ-агентов, а также задать любые вопросы по курсу.

Для начала курса мы разберёмся, что такое ИИ-агенты и как их можно использовать в наших приложениях и рабочих процессах.

## Введение

В этом уроке рассматриваются следующие вопросы:

- Что такое ИИ-агенты и какие их типы существуют?
- В каких случаях использование ИИ-агентов наиболее эффективно и как они могут помочь?
- Какие основные компоненты используются при разработке агентных решений?

## Цели обучения

После завершения этого урока вы сможете:

- Понять основные концепции ИИ-агентов и их отличия от других ИИ-решений.
- Эффективно применять ИИ-агентов.
- Продуктивно проектировать агентные решения как для пользователей, так и для клиентов.

## Определение ИИ-агентов и их виды

### Что такое ИИ-агенты?

ИИ-агенты — это **системы**, которые позволяют **большим языковым моделям (LLMs)** **выполнять действия**, расширяя их возможности за счёт предоставления **доступа к инструментам** и **знаниям**.

Разберём это определение на составные части:

- **Система** — Важно рассматривать агентов не как единый компонент, а как систему из множества компонентов. На базовом уровне компоненты ИИ-агента включают:
  - **Среда (Environment)** — Определённое пространство, в котором работает ИИ-агент. Например, если у нас есть ИИ-агент для бронирования путешествий, его средой может быть система бронирования, которую агент использует для выполнения задач.
  - **Сенсоры (Sensors)** — Среда содержит информацию и предоставляет обратную связь. ИИ-агенты используют сенсоры для сбора и интерпретации этой информации о текущем состоянии среды. В примере с агентом бронирования путешествий система бронирования может предоставлять данные о наличии номеров в отелях или ценах на авиабилеты.
  - **Приводы (Actuators)** — Получив текущее состояние среды, агент определяет, какие действия необходимо выполнить для её изменения. В случае агента бронирования это может быть бронирование доступного номера для пользователя.

![Что такое ИИ-агенты?](./images/what-are-ai-agents.png?WT.mc_id=academic-105485-koreyst)

**Большие языковые модели (LLMs)** — Концепция агентов существовала ещё до появления LLMs. Преимущество использования LLMs для создания ИИ-агентов заключается в их способности интерпретировать человеческий язык и данные. Это позволяет моделям анализировать информацию из среды и разрабатывать план для её изменения.

**Выполнение действий** — Вне системы ИИ-агентов LLMs ограничены ситуациями, где их действие сводится к генерации контента или информации на основе запроса пользователя. В системе ИИ-агента LLMs могут выполнять задачи, интерпретируя запросы пользователей и используя доступные инструменты в своей среде.

**Доступ к инструментам** — Доступ к инструментам LLM определяется двумя факторами: 1) средой, в которой он работает, и 2) разработчиком ИИ-агента. В нашем примере с агентом бронирования путешествий инструменты агента ограничены возможностями системы бронирования, а разработчик может дополнительно ограничить доступ агента только к данным о рейсах.

**Знания** — Помимо информации, предоставляемой средой, ИИ-агенты могут также получать знания из других систем, сервисов, инструментов и даже от других агентов. В примере с агентом бронирования путешествий такими знаниями могут быть предпочтения пользователя, хранящиеся в базе данных клиентов.
### Различные типы агентов

Теперь, когда у нас есть общее определение ИИ-агентов, давайте рассмотрим некоторые конкретные типы агентов и их применение на примере ИИ-агента для бронирования путешествий.

| **Тип агента**                 | **Описание**                                                                                                                       | **Пример**                                                                                                                                                                                                                      |
| ------------------------------ | ------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Агенты простых рефлексов**   | Выполняют немедленные действия на основе заранее заданных правил.                                                               | Агент по бронированию путешествий интерпретирует контекст электронного письма и перенаправляет жалобы на поездку в службу поддержки клиентов.                                                                                     |
| **Агенты с моделью среды**     | Выполняют действия на основе модели мира и изменений в этой модели.                                                             | Агент по бронированию путешествий приоритизирует маршруты с значительными изменениями цен на основе доступа к историческим данным о ценах.                                                                                      |
| **Агенты, основанные на целях** | Создают планы для достижения конкретных целей, интерпретируя цель и определяя необходимые действия.                           | Агент по бронированию путешествий организует поездку, определяя необходимые транспортные средства (автомобиль, общественный транспорт, авиаперелёты) от текущего местоположения до пункта назначения.                             |
| **Агенты, основанные на полезности** | Учитывают предпочтения и взвешивают компромиссы численно, чтобы определить наилучший способ достижения целей.                   | Агент по бронированию путешествий максимизирует полезность, оценивая удобство поездки по сравнению со стоимостью при бронировании.                                                                                              |
| **Обучающиеся агенты**         | Улучшаются со временем, реагируя на обратную связь и корректируя свои действия.                                                 | Агент по бронированию путешествий совершенствуется, используя отзывы клиентов из пост-поездочных опросов для корректировки будущих бронирований.                                                                               |
| **Иерархические агенты**       | Включают несколько агентов в многоуровневой системе, где агенты более высокого уровня разбивают задачи на подзадачи для выполнения агентами более низкого уровня. | Агент по бронированию путешествий отменяет поездку, разделяя задачу на подзадачи (например, отмена отдельных бронирований), которые выполняются агентами нижнего уровня и передают отчёт агенту верхнего уровня.                 |
| **Многоагентные системы (MAS)** | Агенты выполняют задачи независимо, либо кооперативно, либо в конкурентной среде.                                             | **Кооперативный пример**: Несколько агентов бронируют отдельные услуги, такие как отели, авиабилеты и развлечения. <br> **Конкурентный пример**: Несколько агентов управляют общим календарём бронирования отеля, конкурируя за клиентов. |


## Когда использовать ИИ-агентов

В предыдущем разделе мы использовали пример ИИ-агента для бронирования путешествий, чтобы объяснить, как разные типы агентов применяются в различных сценариях бронирования. Мы продолжим использовать этот пример на протяжении всего курса.

Рассмотрим, в каких случаях ИИ-агенты наиболее полезны:

![Когда использовать ИИ-агентов?](./images/when-to-use-ai-agents.png?WT.mc_id=academic-105485-koreyst)

- **Открытые задачи** — предоставляют LLM возможность определять необходимые шаги для выполнения задачи, так как не всегда возможно заранее запрограммировать их в рабочем процессе.
- **Многошаговые процессы** — задачи, требующие определённого уровня сложности, где ИИ-агенту необходимо использовать инструменты или информацию на протяжении нескольких шагов, а не в одном вызове.
- **Улучшение со временем** — задачи, в которых агент может со временем улучшаться, получая обратную связь от среды или пользователей для повышения своей полезности.

Дополнительные аспекты использования ИИ-агентов рассматриваются в уроке **"Создание надёжных ИИ-агентов"**.

## Основы агентных решений

### Разработка агентов

Первый шаг при проектировании системы ИИ-агентов — это определение инструментов, действий и поведения. В этом курсе мы сосредоточимся на использовании **Azure AI Agent Service** для создания агентов. Этот сервис предлагает такие возможности, как:

- Выбор открытых моделей, таких как OpenAI, Mistral и Llama
- Использование лицензированных данных от провайдеров, например, Tripadvisor
- Поддержка стандартизированных инструментов OpenAPI 3.0

### Агентные паттерны

Взаимодействие с LLM осуществляется через промпты. Из-за полуавтономного характера ИИ-агентов не всегда возможно или необходимо вручную повторно запрашивать LLM после изменения среды. Мы используем **агентные паттерны**, которые позволяют нам эффективно направлять LLM на нескольких шагах в более масштабируемом виде.

Этот курс охватывает некоторые из наиболее популярных агентных паттернов.

### Агентные фреймворки

Агентные фреймворки позволяют разработчикам реализовывать агентные паттерны в коде. Они предлагают шаблоны, плагины и инструменты для лучшего взаимодействия между ИИ-агентами. Эти возможности обеспечивают улучшенную наблюдаемость и отладку систем ИИ-агентов.

В этом курсе мы рассмотрим ориентированный на исследования фреймворк **AutoGen**, а также готовый к производственному использованию **Agent Framework** из **Semantic Kernel**.
